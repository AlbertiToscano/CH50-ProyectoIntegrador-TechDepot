import"./footer-Cv0a1vcf.js";document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("formulario"),m=document.querySelectorAll("#formulario input"),o={nombre:!1,telefono:!1,correo:!1,contraseña:!1},c=[],s={nombre:/^[a-zA-ZÀ-ÿ\s]{1,40}$/,contraseña:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&#.$($)$-$_])[A-Za-z\d$@$!%*?&#.$($)$-$_]{8,16}$/,correo:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,telefono:/^\d{10}$/},i=e=>{switch(e.target.name){case"nombre":a(s.nombre,e.target,"nombre");break;case"telefono":a(s.telefono,e.target,"telefono");break;case"correo":a(s.correo,e.target,"correo");break;case"contraseña":a(s.contraseña,e.target,"contraseña"),d();break;case"ConfirmaContraseña":d();break}},a=(e,r,t)=>{e.test(r.value)?(document.querySelector(`#error-${t}`).classList.remove("error-activo"),o[t]=!0):(document.querySelector(`#error-${t}`).classList.add("error-activo"),o[t]=!1)},d=()=>{const e=document.getElementById("contraseña"),r=document.getElementById("ConfirmaContraseña");e.value!==r.value?(document.querySelector("#error-coincide").classList.add("error-activo"),o.contraseña=!1):(document.querySelector("#error-coincide").classList.remove("error-activo"),o.contraseña=!0)};m.forEach(e=>{e.addEventListener("keyup",i),e.addEventListener("blur",i)});const u=()=>o.nombre&&o.telefono&&o.correo&&o.contraseña;n.addEventListener("submit",e=>{e.preventDefault();const r=document.getElementById("terminos");if(u()&&r.checked){const t=new FormData(e.target),l=Object.fromEntries(t.entries()),g={datosUsuario:l};c.push(g),localStorage.setItem("usuarios",JSON.stringify(c)),console.log("Usuario nuevo agregado",l),document.getElementById("registro-exitoso").classList.add("registro-exitoso-activo"),n.reset(),window.location.href="src/pages/inicioSesion/inicioSesion.html"}else document.getElementById("error-registro").classList.add("error-registro-activo");setTimeout(()=>{document.getElementById("registro-exitoso").classList.remove("registro-exitoso-activo"),document.getElementById("error-registro").classList.remove("error-registro-activo")},3e3)})});
